---
title: Build a Telegram Bot
description: Create a daily hadith Telegram bot
---

import { Steps } from 'nextra/components'
import { Callout } from 'nextra/components'
import { CodePlayground } from '@/components/CodePlayground'

# Build a Daily Hadith Telegram Bot

Learn how to build a Telegram bot that sends a random hadith every day to subscribers.

## What You'll Build

- ‚úÖ Telegram bot with commands
- ‚úÖ Daily automated hadith delivery
- ‚úÖ Multi-language support
- ‚úÖ Subscriber management

## Prerequisites

- Node.js 18+ installed
- Telegram account
- Mumin API key ([get one here](https://dashboard.mumin.ink))

<Steps>

### Create Telegram Bot

1. Message [@BotFather](https://t.me/botfather) on Telegram
2. Send `/newbot` and follow instructions
3. Save your bot token (looks like `123456:ABC-DEF...`)

### Setup Project

```bash
mkdir hadith-bot
cd hadith-bot
npm init -y
npm install grammy node-cron node-fetch
```

### Create Bot Code

Create `bot.js`:

<CodePlayground
  language="javascript"
  code={`import { Bot } from 'grammy'
import cron from 'node-cron'
import fetch from 'node-fetch'

const bot = new Bot('YOUR_TELEGRAM_BOT_TOKEN')
const MUMIN_API_KEY = 'YOUR_MUMIN_API_KEY'

// Store subscribers
const subscribers = new Set()

// /start command
bot.command('start', async (ctx) => {
  subscribers.add(ctx.chat.id)
  await ctx.reply(
    'üïå As-salamu alaykum!\\n\\n' +
    'I will send you a hadith every day at 8 AM.\\n\\n' +
    'Commands:\\n' +
    '/today - Get today\\'s hadith\\n' +
    '/random - Get random hadith\\n' +
    '/stop - Unsubscribe'
  )
})

// /today command
bot.command('today', async (ctx) => {
  const hadith = await getRandomHadith('en')
  await ctx.reply(formatHadith(hadith))
})

// Fetch random hadith
async function getRandomHadith(lang = 'en') {
  const response = await fetch(
    \`https://api.mumin.ink/v1/hadiths/random?lang=\${lang}\`,
    {
      headers: {
        'Authorization': \`Bearer \${MUMIN_API_KEY}\`
      }
    }
  )
  return await response.json()
}

// Format hadith message
function formatHadith(hadith) {
  const translation = hadith.translations.en
  return \`
üìñ *Hadith \${hadith.number} from Book \${hadith.book}*

\${translation.text}

_Narrator: \${translation.narrator}_

üïå Sahih al-Bukhari
  \`.trim()
}

// Daily cron job (8 AM every day)
cron.schedule('0 8 * * *', async () => {
  console.log('Sending daily hadith...')
  const hadith = await getRandomHadith('en')
  const message = 'üåÖ *Daily Hadith*\\n\\n' + formatHadith(hadith)

  for (const chatId of subscribers) {
    try {
      await bot.api.sendMessage(chatId, message, { parse_mode: 'Markdown' })
    } catch (error) {
      console.error(\`Failed to send to \${chatId}:\`, error)
    }
  }
})

// Start bot
bot.start()
console.log('ü§ñ Bot is running...')`}
/>

### Run Your Bot

```bash
node bot.js
```

### Test It

1. Find your bot on Telegram
2. Send `/start` to subscribe
3. Send `/today` to get a hadith immediately

</Steps>

## Enhancements

<Callout type="info">
  **Pro Tips:**
  
  - Use a database (MongoDB/PostgreSQL) to store subscribers
  - Add language selection per user
  - Implement /search command
  - Add hadith bookmarking
</Callout>

### Multi-Language Support

```javascript
// Language per user
const userLanguages = new Map()

bot.command('language', async (ctx) => {
  await ctx.reply('Choose language:', {
    reply_markup: {
      inline_keyboard: [
        [{ text: 'English üá¨üáß', callback_data: 'lang_en' }],
        [{ text: '–†—É—Å—Å–∫–∏–π üá∑üá∫', callback_data: 'lang_ru' }],
        [{ text: 'O\\'zbekcha üá∫üáø', callback_data: 'lang_uz' }],
      ]
    }
  })
})

bot.on('callback_query:data', async (ctx) => {
  const lang = ctx.callbackQuery.data.split('_')[1]
  userLanguages.set(ctx.chat.id, lang)
  await ctx.answerCallbackQuery()
  await ctx.reply(\`‚úÖ Language set to \${lang}\`)
})
```

## Deploy to Production

### Using Railway

1. Push code to GitHub
2. Create Railway project
3. Add environment variables:
   - `TELEGRAM_BOT_TOKEN`
   - `MUMIN_API_KEY`
4. Deploy!

## Full Source Code

Find the complete code on [GitHub](https://github.com/mumin-api/examples/telegram-bot).

## Next Steps

- üì± [Build a Mobile App](/tutorials/mobile-app)
- üåê [Create WordPress Plugin](/tutorials/wordpress-plugin)
